<template>
  <br/>
  <div if.bind="searchable === true" class="row">
    <div class="col-xs-2">
      <select value.bind="defaultColumn" class="form-control" id="exampleSelect1">
        <option model.bind="columnLabel.column" repeat.for="columnLabel of columnLabels">${columnLabel.label}</option>
      </select>
    </div>

    <div class="col-xs-10">
      <input class="form-control margin-bottom-20" type="text" id="search" placeholder="search" value.bind="search" keyup.delegate="doSearch(search) & debounce:500">
    </div>

  </div>
  <br/>
  <table class="table table-striped table-bordered table-hover padding-top-20">
    <thead>
      <tr>
        <th click.delegate="doSort(columnLabel)" repeat.for="columnLabel of columnLabels">
          <span if.bind="sortable === false">${columnLabel.label}</span>
          <a if.bind="sortable === true">${columnLabel.label} <i class="${sortingCriteria[columnLabel.column] ? (sortingCriteria[columnLabel.column] === 'asc' ? 'fa fa-caret-down' : 'fa fa-caret-up') : 'fa fa-sort'}"></i></a>
        </th>
        <th if.bind="editable === true || removable === true"></th>
      </tr>
    </thead>
    <tbody>
      <tr repeat.for="row of data">
        <td repeat.for="columnLabel of columnLabels">${row[columnLabel.column]}</td>
        <!-- Actions -->
        <td style="white-space: nowrap; width: 1px;" if.bind="editable === true || removable === true">
          <button if.bind="editable === true" class="btn btn-sm btn-white" click.delegate="doUpdate(row)">
            <i class="fa fa-pencil"></i>
          </button>

          <button if.bind="removable === true" class="btn btn-sm btn-danger" click.delegate="doDelete($index)">
            <i class="fa fa-trash"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</template>
